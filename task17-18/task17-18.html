<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">    
    <title>IFE ECMAScript</title>
</head>
<body>        
    <input id="dec-number" type="number" placeholder="输入一个十进制非负整数">
    <input id="bin-bit" type="number" placeholder="输入转化后二进制数字位数">
    <button id="trans-btn">转化为二进制</button>
    <p id="result">运算结果</p>
    <script>

function dec2bin(decNumber) {
    // 在这里实现你的转化方法，注意需要判断输入必须为一个非负整数
    // 这里是上一个任务的实现
    var RemainderNumberStr=""
    var RemainderArr = new Array();//存储二进制数组
    if (CheckNumber (decNumber)=="") {
        //console.log("可以转换");
        for (var i = 0; 1; i++) {
            if (decNumber / 2 >= 1) {
                RemainderNumberStr+=decNumber%2;
                decNumber=parseInt(decNumber/2);
            } else {
                RemainderNumberStr+=1;
                break;
            }
        }
        var binbit=document.getElementById("bin-bit").value
        if (RemainderNumberStr.length<binbit) {
            RemainderNumberStr=PrefixInteger(Number(RemainderNumberStr),Number(binbit))
        }
        
        document.getElementById("result").innerHTML= RemainderNumberStr;         
    } 
    else{
        alert(CheckNumber (decNumber));
        console.log(CheckNumber (decNumber));
    };
}
function CheckNumber (decnumber) {
    var reg = /^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/;
    var CheckValue="";
    if (!reg.test(decnumber)){
        CheckValue="请在第一个输入框中输入非负数整数!"
    }
    return CheckValue;
}
function PrefixInteger(num, length) {
    return (Array(length).join(0) + num).slice(-length);
}
// 实现党点击转化按钮时，将输入的十进制数字转化为二进制，并显示在result的p标签内
// 新的需求是，转化显示后的二进制数为bin-bit中输入的数字宽度，例如
// dec-number为5，bin-bit为5，则转化后数字为00101
// 如果bin-bit小于转化后的二进制本身位数，则使用原本的位数，如dec-number为5，bin-bit为2，依然输出101，但同时在console中报个错
// Some coding
    document.getElementById("trans-btn").addEventListener("click",function(){
        var decNumber=document.getElementById("dec-number").value
        dec2bin(decNumber);
    });

    
    </script>
</body>
</html>